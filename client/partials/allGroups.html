<div class="row-fluid">
    <div class="col-sm-12">
        <nav class="navbar navbar-default">
            <div class="container-fluid">
                <div class="navbar-header">
                    <a class="navbar-brand"><span class="text-primary">VOTERGAB &mdash; {{currentUser.name}}</span></a>
                </div>
                <div class="collapse navbar-collapse">
                    <ul class="nav navbar-nav pull-left">
                        <li><a href="#!/dashboard"><span class="text-primary">Dashboard</span></a></li>
                        <li class="active"><a href="#!/groups/all"><span class="text-info">Find Group</span></a></li>
                        <li><a href="#!/groups/new"><span class="text-primary">New Group</span></a></li>
                    </ul>
                    <ul class="nav navbar-nav pull-right">
                        <li class="dropdown"><a href="#!/dashboard" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false" id="mygroups"><span class="text-primary">My Follows</span> <span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <li ng-repeat='group in followUser.following'><a href='#!/groups/show/{{group._id}}'>{{group.name}}</a></li>
                                <!-- ON HOVER, show {{group.description}} on left? -->
                            </ul>
                        </li>

                        <li class="dropdown"><a href="#!/dashboard" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false" id="mygroups"><span class="text-primary">My Groups</span> <span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <li ng-repeat="group in adminUser.admin"><a href='#!/groups/show/{{group._id}}'>{{group.name}}</a></li>
                                <li role="separator" class="divider"></li>
                                <li ng-repeat="group in memberUser.memberships"><a href='#!/groups/show/{{group._id}}'>{{group.name}}</a></li>
                                <!-- ON HOVER, show {{group.description}} on left? -->
                            </ul>
                        </li>
                        <li><a href="/logout" class="navbar-right"><span class="text-danger">Logout</span></a></li>
                    </ul>
                </div>
            </div>
        </nav>
    </div>
</div>
<div class="row-fluid">
    <div class="col-sm-12">
        <h2>Find Group</h2>
        <table class="table table-bordered table-striped table-hover">
            <thead>
                <tr>
                    <th class="h3">Group Name</th>
                    <th class="h3">Description</th>
                    <th class="h3">Actions</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="group in groups | filter: {name:filter} | orderBy : '-createdAt'">
                    <td class="h4"><a href='#!/groups/show/{{group._id}}'>{{group.name}}</a></td>
                    <td class="h4">{{group.description}}</td>
                    <td class="h4">
                        <button ng-if='!group.followers.includes(currentUser._id)' ng-click='follow(group._id)' class="btn btn-success btn-sm">Follow</button>
                        <button ng-if='group.followers.includes(currentUser._id)' ng-click='unfollow(group._id)' class="btn btn-danger btn-sm">Unfollow</button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
